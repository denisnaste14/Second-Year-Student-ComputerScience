<!DOCTYPE html>
<html>
<head>
    <style>
       .column{
           text-align:center;
           
       }
       #columnText{
           visibility:hidden;
       }
    </style>
</head>

<body>
    <table id="table1" border="1" width="200px" height="200px">
        <tr>
            <td class="column"> <p id="columnText"> 1</p></td>
            <td class="column"> <p id="columnText"> 2</p></td>
            <td class="column"> <p id="columnText"> 4</p></td>
            <td class="column"> <p id="columnText"> 3</p></td>
        </tr>
        <tr>
            <td class="column"> <p id="columnText"> 2</p></td>
            <td class="column"> <p id="columnText"> 1</p></td>
            <td class="column"> <p id="columnText"> 3</p></td>
            <td class="column"> <p id="columnText"> 4</p></td>
        </tr>
        <tr>
            <td class="column"> <p id="columnText"> 4</p></td>
            <td class="column"> <p id="columnText"> 3</p></td>
            <td class="column"> <p id="columnText"> 2</p></td>
            <td class="column"> <p id="columnText"> 1</p></td>
        </tr>
        <tr>
            <td class="column"> <p id="columnText"> 3</p></td>
            <td class="column"> <p id="columnText"> 1</p></td>
            <td class="column"> <p id="columnText"> 4</p></td>
            <td class="column"> <p id="columnText"> 2</p></td>
        </tr>

    </table>

    <script type="text/javascript">
        var tbl = document.getElementById("table1");
        var nrElem = tbl.rows.length * tbl.rows[0].cells.length;
        var pair = 0;
        var firstElem = 0;
        var firstElemCel = null;
        if (tbl != null) {
            for (var i = 0; i < tbl.rows.length; i++) {
                for (var j = 0; j < tbl.rows[i].cells.length; j++)
                    tbl.rows[i].cells[j].onclick = function () {
                        
                        memory(this, getval(this));
                    };
            }
        }

        function getval(cel) {
            var b = cel.childNodes[1].innerHTML;
            return b;
        }

        function memory(cel,celValue) {
            cel.childNodes[1].style.visibility = 'visible';
            pair++;
            if (pair == 1) {
                firstElem = celValue;
                firstElemCel = cel;
            }
            if (pair == 2 && firstElem == celValue) {
                nrElem -= 2;
                pair = 0;
            }
            else {
                setTimeout(function () {
                    if (firstElem != celValue) {

                        firstElemCel.childNodes[1].style.visibility = 'hidden';
                        cel.childNodes[1].style.visibility = 'hidden';
                        firstElem = 0;
                        firstElemCel = null;
                        pair = 0;
                    }
                }, 800);

            }

            if (nrElem == 0) {
                alert("Ati terminat jocul!");
            }
        }
    </script>
</body>
</html>
